language: cpp
sudo: required
dist: trusty
git:
  submodules: false
before_install:
  - git config --global url.git@github.com:.insteadOf https://github.com/
  - git submodule update --init --recursive -- src/libpsl-native src/monad src/windows-build test/Pester
  - sudo sh -c 'echo "deb [arch=amd64] http://apt-mo.trafficmanager.net/repos/dotnet/ trusty main" > /etc/apt/sources.list.d/dotnetdev.list'
  - sudo apt-key adv --keyserver apt-mo.trafficmanager.net --recv-keys 417A0893
  - sudo apt-get -qq update
  - sudo apt-get install -y dotnet-nightly
script:
  - dotnet restore
  - ./build.sh
  - ./pester.sh
notifications:
  slack:
    secure: HcQNRw6q1YfgEE0VLEKby6tImtdvv2rP1raurZZxgKMkOaMC0NIAn6KrMmElnrJaEDnmi2vIFaKJV9YH+W+SWjReHxFbqbD9dF5dy3S1bg7GQPZXvx033INxrpgho0VcgcwCzljPzLZpzA3aTaD2yH54UlV4RHQjDd1Ks6x2K1LAIPpiHj5dWXwZ/aXcWlaBAhW38w/xcu9L+U7gzyeptg/nWDq05KanddSm3oAAUwWXlQeVZoSJV01WjqngRR6z9p5dHSRuQQXvFsHxEpphgrk6vbgyMpWpRut2LsPNMsWBz448ao5pT82Pbd808o2Psm7oS3OMBHr6wsxOPIlPLTu+ye6RbeDo75gbk+12rA6F3fokb+rZmAbmXtBETh1S5HUKfmufFElSPnTdxaJI3cGv5YvBvn198oXQV2aEa6ac+BgknS+++ZLg8SaRbggGJNVqbkGfCL810xEbd8MxUp3YbfQlAOLPWTjb3rfR6at8sDE0LrFO7VxIEgL0jYQbGDbo4SECraRAZTOIW7JfLagg24sOH7cdkXP9TOn3D9XDi/5Rxyo2PFYYFZrGVOaxG4+y61BwqWhxRyAoWXghhTPDoEcIYNG13ZHWu4HE9/sQ9XOOw0UehMAdxuOBfnNoOAdWTWBVpO+M+yKGqrN1aQ+krMlRjB272uVh0Vy/IvM=
